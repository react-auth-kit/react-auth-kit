<!--
  ~ Copyright 2020 Arkadip Bhattacharya
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Authentication Library for React Js for Token Based Auth using Json Web Token(JWT)">
      
      
        <meta name="author" content="Arkadip Bhattacharya">
      
      
        <link rel="canonical" href="https://authkit.arkadip.me/v2.1.0/refreshtoken/">
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.7">
    
    
      
        <title>Refresh Token - React Auth Kit</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4a0965b7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-G1WZBFV5R2"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-G1WZBFV5R2",{page_path:e.pathname})})})</script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G1WZBFV5R2"></script>


    
    


    

<meta property="keywords"
      content="react, auth, authtication, react-authentication, jwt, jsonwebtoken, react-jwt, react-jsonwebtoken, react-auth-jwt, jwt with react"/>
<meta property="og:type" content="website" />
<meta property="og:title" content="React Auth Kit - Refresh Token" />
<meta property="og:description" content="Authentication Library for React Js for Token Based Auth using Json Web Token(JWT)" />
<meta property="og:url" content="https://authkit.arkadip.me/v2.1.0/refreshtoken/" />
<meta property="og:image" content="https://authkit.arkadip.co/img/banner.png" />
<meta property="og:image:type" content="image/svg+xml" />
<meta property="og:image:width" content="1280" />
<meta property="og:image:height" content="640" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="https://authkit.arkadip.me/v2.1.0/refreshtoken/">
<meta name="twitter:title" content="React Auth Kit - Refresh Token" />
<meta name="twitter:description" content="Authentication Library for React Js for Token Based Auth using Json Web Token(JWT)" />
<meta name="twitter:image" content="https://authkit.arkadip.co/img/banner.svg" />

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#refresh-tokens" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
            <div class="md-banner__inner md-grid md-typeset">
              
You're not viewing the latest version.
<a href="../..">

  <strong>Click here to go to latest.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="React Auth Kit" class="md-header__button md-logo" aria-label="React Auth Kit" data-md-component="logo">
      
  <img src="../img/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            React Auth Kit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Refresh Token
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/react-auth-kit/react-auth-kit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    react-auth-kit/react-auth-kit
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="React Auth Kit" class="md-nav__button md-logo" aria-label="React Auth Kit" data-md-component="logo">
      
  <img src="../img/logo.svg" alt="logo">

    </a>
    React Auth Kit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/react-auth-kit/react-auth-kit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    react-auth-kit/react-auth-kit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../integration/" class="md-nav__link">
        Integrate in your project
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../signin/" class="md-nav__link">
        Sign In
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../privateroute/" class="md-nav__link">
        Private Route
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../signout/" class="md-nav__link">
        Sign Out
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../authdata/" class="md-nav__link">
        Auth User Data
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../authheader/" class="md-nav__link">
        Auth Header
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../checkauth/" class="md-nav__link">
        Check Authentication
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Refresh Token
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Refresh Token
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-builder" class="md-nav__link">
    API Builder
  </a>
  
    <nav class="md-nav" aria-label="API Builder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#createrefresh" class="md-nav__link">
    createRefresh
  </a>
  
    <nav class="md-nav" aria-label="createRefresh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refreshapicallback" class="md-nav__link">
    refreshApiCallback
  </a>
  
    <nav class="md-nav" aria-label="refreshApiCallback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments_1" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_1" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refreshapicallback-example" class="md-nav__link">
    refreshApiCallback Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-builder-example" class="md-nav__link">
    API Builder Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-in-auth-provider" class="md-nav__link">
    Integration in Auth Provider.
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../update/" class="md-nav__link">
        Update Auth Kit from v1 to v2
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-builder" class="md-nav__link">
    API Builder
  </a>
  
    <nav class="md-nav" aria-label="API Builder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#createrefresh" class="md-nav__link">
    createRefresh
  </a>
  
    <nav class="md-nav" aria-label="createRefresh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refreshapicallback" class="md-nav__link">
    refreshApiCallback
  </a>
  
    <nav class="md-nav" aria-label="refreshApiCallback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments_1" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_1" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refreshapicallback-example" class="md-nav__link">
    refreshApiCallback Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-builder-example" class="md-nav__link">
    API Builder Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-in-auth-provider" class="md-nav__link">
    Integration in Auth Provider.
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/react-auth-kit/react-auth-kit/edit/master/docs/refreshtoken.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="refresh-tokens">Refresh Tokens<a class="headerlink" href="#refresh-tokens" title="Permanent link">&para;</a></h1>
<p>Often JWT comes with a new challenge.
You have to <code>refresh</code> the JWT token periodically using a token, named Refresh token.</p>
<div data-ea-publisher="authkitarkadipme" data-ea-type="text" data-ea-keywords="web|react|javascript|python|database|node|mongo" id="refresh"></div>

<blockquote>
<p>A refresh token is a special kind of token used to obtain a renewed access token.
You can request new access tokens until the refresh token is on the DenyList.
Applications must store refresh tokens securely because they essentially allow a user to remain authenticated forever.</p>
</blockquote>
<p>React Auth Kit implements an easy approach to integrate the refresh token.</p>
<p>You can either use the refresh token in your application or you can leave it.</p>
<hr />
<h2 id="api-builder">API Builder<a class="headerlink" href="#api-builder" title="Permanent link">&para;</a></h2>
<p>To build the refresh token API, you have to use <code>createRefresh</code> function.
It is an identity function. It is mainly used for typechecking and mobility.</p>
<h3 id="createrefresh">createRefresh<a class="headerlink" href="#createrefresh" title="Permanent link">&para;</a></h3>
<p><code class="highlight"><span class="nx">createRefresh</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">refreshApi</span><span class="w"></span></code></p>
<p>Generate a refreshApi based on the options received</p>
<h4 id="arguments">Arguments<a class="headerlink" href="#arguments" title="Permanent link">&para;</a></h4>
<p><code>options</code> (object): Takes a refresh object. It has 2 parameters</p>
<ol>
<li><code>refreshApiCallback</code> (function): This is an API function. Inside this function, you have to add a network request API. See the <a href="#refreshapicallback">details</a></li>
<li><code>interval</code> (number): The time interval in minutes, by which the <code>refreshApiCallback</code> is called and the state is updated</li>
</ol>
<h4 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">&para;</a></h4>
<p>A complete object of refresh token API. Add this object in the <code>AuthProvider</code> as a prop to implement the feature.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">createRefresh</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-auth-kit&#39;</span><span class="w"></span>

<span class="kd">const</span><span class="w"> </span><span class="nx">refreshApi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createRefresh</span><span class="p">({</span><span class="w"></span>
<span class="w">  </span><span class="nx">interval</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="c1">// Refreshs the token in every 10 minutes</span><span class="w"></span>
<span class="w">  </span><span class="nx">refreshApiCallback</span><span class="o">:</span><span class="w"> </span><span class="nx">param</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// API container function</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nx">isSuccess</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">})</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">refreshApi</span><span class="w"></span>
</code></pre></div>
<hr />
<h3 id="refreshapicallback">refreshApiCallback<a class="headerlink" href="#refreshapicallback" title="Permanent link">&para;</a></h3>
<p>The container for refresh API</p>
<h4 id="arguments_1">Arguments<a class="headerlink" href="#arguments_1" title="Permanent link">&para;</a></h4>
<p>The function has only one argument, which is the <code>object</code> of the latest state.</p>
<p>The object contains:</p>
<ol>
<li><code>authToken</code> (string): The Auth token</li>
<li><code>authTokenExpireAt</code> (Date) : Expiring time of the Auth token</li>
<li><code>refreshToken</code> (string): The Refresh token</li>
<li><code>refreshTokenExpiresAt</code> (Date): Expiring time of the refresh token</li>
<li><code>authUserState</code> (object): The current User state</li>
</ol>
<h4 id="returns_1">Returns<a class="headerlink" href="#returns_1" title="Permanent link">&para;</a></h4>
<p>In side the function you have to return an <code>object</code> of new auth state fetched by the API.</p>
<p>The return object must contain:</p>
<ol>
<li><code>isSuccess</code> (boolean): If the network request is successful, then make it <code>true</code>, otherwise make it false.
   If the value of this variable is false then the state will not changed, and it'll wait for the next time</li>
<li><code>newAuthToken</code> (string): The value of this variable will be the new auth token. So pass the new auth token here.</li>
<li><code>newAuthTokenExpireIn</code> (number)(optional): New time limit in minutes, after which the auth token will expire.
   If you leave it, the old time limit will not be changed. So if you want to add more 10 minutes, then pass 10 here.</li>
<li><code>newRefreshToken</code> (string)(optional): Pass the new refresh token here, if you want to refresh the refresh token itself.</li>
<li><code>newRefreshTokenExpiresIn</code> (number)(optional): New time limit in minutes, after which the refresh token will expire. Works same as <code>newAuthTokenExpireIn</code></li>
<li><code>newAuthUserState</code> (object)(optional): Pass the new user state. If your API updates the user state, then use this, else leave it.</li>
</ol>
<h4 id="refreshapicallback-example">refreshApiCallback Example<a class="headerlink" href="#refreshapicallback-example" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="nx">refreshApiCallback</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w">   </span><span class="c1">// arguments</span><span class="w"></span>
<span class="w">      </span><span class="nx">authToken</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">authTokenExpireAt</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">refreshToken</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">refreshTokenExpiresAt</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">authUserState</span><span class="w"></span>
<span class="w">    </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/api/refresh&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">refreshToken</span><span class="o">:</span><span class="w"> </span><span class="nx">refreshToken</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nx">oldAuthToken</span><span class="o">:</span><span class="w"> </span><span class="nx">authToken</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">).</span><span class="nx">then</span><span class="p">(({</span><span class="nx">data</span><span class="p">})=&gt;{</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// As the request is successful, we are passing new tokens.</span><span class="w"></span>
<span class="w">        </span><span class="nx">isSuccess</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">  </span><span class="c1">// For successful network request isSuccess is true</span><span class="w"></span>
<span class="w">        </span><span class="nx">newAuthToken</span><span class="o">:</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">newAuthToken</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nx">newAuthTokenExpireIn</span><span class="o">:</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">newAuthTokenExpireIn</span><span class="w"></span>
<span class="w">        </span><span class="c1">// You can also add new refresh token ad new user state</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">e</span><span class="p">)=&gt;{</span><span class="w"></span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// As the request is unsuccessful, we are just passing the isSuccess.</span><span class="w"></span>
<span class="w">        </span><span class="nx">isSuccess</span><span class="o">:</span><span class="kc">false</span><span class="w"> </span><span class="c1">// For unsuccessful network request isSuccess is false</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">})</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<hr />
<h3 id="api-builder-example">API Builder Example<a class="headerlink" href="#api-builder-example" title="Permanent link">&para;</a></h3>
<p>This is the overall example of how to use <code>createRefresh</code>. The example uses axios to make network request.
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;axios&#39;</span><span class="w"></span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">useAuthHeader</span><span class="p">,</span><span class="w"> </span><span class="nx">createRefresh</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-auth-kit&#39;</span><span class="w"></span>

<span class="kd">const</span><span class="w"> </span><span class="nx">refreshApi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createRefresh</span><span class="p">({</span><span class="w"></span>
<span class="w">  </span><span class="nx">interval</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span><span class="w">   </span><span class="c1">// Refreshs the token in every 10 minutes</span><span class="w"></span>
<span class="w">  </span><span class="nx">refreshApiCallback</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nx">authToken</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">authTokenExpireAt</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">refreshToken</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">refreshTokenExpiresAt</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nx">authUserState</span><span class="w"></span>
<span class="w">    </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/api/refresh&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">refreshToken</span><span class="o">:</span><span class="w"> </span><span class="nx">refreshToken</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nx">oldAuthToken</span><span class="o">:</span><span class="w"> </span><span class="nx">authToken</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">).</span><span class="nx">then</span><span class="p">(({</span><span class="nx">data</span><span class="p">})=&gt;{</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">isSuccess</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">  </span><span class="c1">// For successful network request isSuccess is true</span><span class="w"></span>
<span class="w">        </span><span class="nx">newAuthToken</span><span class="o">:</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">newAuthToken</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nx">newAuthTokenExpireIn</span><span class="o">:</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">newAuthTokenExpireIn</span><span class="w"></span>
<span class="w">        </span><span class="c1">// You can also add new refresh token ad new user state</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">e</span><span class="p">)=&gt;{</span><span class="w"></span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">isSuccess</span><span class="o">:</span><span class="kc">false</span><span class="w"> </span><span class="c1">// For unsuccessful network request isSuccess is false</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">})</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">})</span><span class="w"></span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">refreshApi</span><span class="w"></span>
</code></pre></div></p>
<h2 id="integration-in-auth-provider">Integration in Auth Provider.<a class="headerlink" href="#integration-in-auth-provider" title="Permanent link">&para;</a></h2>
<p>To add the refresh token feature, simply add the return value of <code>createRefresh</code> function in the <code>AuthProvider</code> as a prop.</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">AuthProvider</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-auth-kit&#39;</span><span class="w"></span>
<span class="k">import</span><span class="w"> </span><span class="nx">refreshApi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;./refreshApi&quot;</span><span class="p">;</span><span class="w"></span>

<span class="kd">function</span><span class="w"> </span><span class="nx">App</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">AuthProvider</span><span class="w"></span>
<span class="w">      </span><span class="nx">authName</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;_auth&quot;</span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="nx">authType</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;cookie&quot;</span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="nx">refresh</span><span class="o">=</span><span class="p">{</span><span class="nx">refreshApi</span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">&gt;</span><span class="w"></span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">Routes</span><span class="o">/&gt;</span><span class="w"></span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/AuthProvider&gt;</span><span class="w"></span>
<span class="w">  </span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Only use the return from createRefresh as the prop value</p>
<p>Using values other than the return of <code>createRefresh</code> will cause the application to break.
So only use the return of <code>createRefresh</code> as the prop value.</p>
</div>
<p align="center">&mdash; ðŸ”‘  &mdash;</p>
<p align="center"><i>React Auth Kit is <a href="https://github.com/react-auth-kit/react-auth-kit/blob/master/LICENSE">Apache 2.0 License</a> code</i></p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../checkauth/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Check Authentication" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Check Authentication
            </div>
          </div>
        </a>
      
      
        
        <a href="../update/" class="md-footer__link md-footer__link--next" aria-label="Next: Update Auth Kit from v1 to v2" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Update Auth Kit from v1 to v2
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 - 2021 React Auth Kit
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.0238f547.min.js"></script>
      
        <script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
      
    
  </body>
</html>